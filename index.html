<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ALOE Kiosk Feedback Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* --- ALOE ORGANIC BRAND PALETTE --- */
    :root {
      --aloe-primary: #8B5A2B;
      --aloe-accent: #6B8E23;
      --aloe-bg-warm: #F9F6F0;
      --aloe-bg-container: #FFFFFF;
      --aloe-text-dark: #3E2B1F;
      --aloe-text-light: #8C7B70;
      --aloe-border: #E8E0D5;
      --aloe-progress-inactive: #E0D6C8; /* Color for inactive dots */
    }

    * {
      box-sizing: border-box;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--aloe-bg-warm) 0%, #F3EDE2 100%);
      color: var(--aloe-text-dark);
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      padding: 20px;
    }

    /* --- Main App Container --- */
    .app {
      width: 100%;
      max-width: 480px;
      background: var(--aloe-bg-container);
      border-radius: 30px;
      box-shadow: 0 20px 40px -10px rgba(62, 43, 31, 0.15);
      padding: 32px;
      border: 1px solid #F0EAE2;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .app::before {
        content: '';
        position: absolute; top: 0; left: 0; right: 0;
        height: 6px;
        background: linear-gradient(to right, var(--aloe-primary), var(--aloe-accent));
    }

    /* --- HEADER & PROGRESS BAR --- */
    .header-container {
      margin-bottom: 32px;
    }

    .brand-title {
      font-size: 14px;
      font-weight: 600;
      color: var(--aloe-primary);
      letter-spacing: 1.2px;
      text-transform: uppercase;
      margin-bottom: 16px;
      display: block;
    }

    .progress-bar {
      display: flex;
      justify-content: center;
      gap: 8px;
    }

    .progress-dot {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: var(--aloe-progress-inactive);
      transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);
    }

    .progress-dot.active {
      background-color: var(--aloe-accent);
      transform: scale(1.3); /* Make the active dot slightly bigger */
    }
    /* Optional: Make completed dots also accent color */
    .progress-dot.completed {
        background-color: var(--aloe-accent);
    }


    /* --- Titles --- */
    h1 {
      font-size: 26px;
      font-weight: 700;
      margin: 0 0 12px;
      color: var(--aloe-text-dark);
      line-height: 1.3;
    }

    p.subtitle {
      margin: 0 auto 32px;
      font-size: 16px;
      color: var(--aloe-text-light);
      line-height: 1.5;
      max-width: 90%;
    }

    /* --- Steps Animation --- */
    .step { display: none; animation: slideUpFade 0.4s cubic-bezier(0.2, 0.8, 0.2, 1); }
    .step.active { display: block; }
    @keyframes slideUpFade {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* --- Buttons --- */
    .buttons-stack {
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 24px;
    }

    .btn {
      padding: 16px 24px;
      border-radius: 50px;
      border: 2px solid var(--aloe-border);
      background: var(--aloe-bg-container);
      color: var(--aloe-text-dark);
      font-size: 17px; font-weight: 600;
      display: flex; align-items: center; justify-content: center; gap: 12px;
      cursor: pointer; transition: all 0.2s;
    }
    .btn:active { transform: scale(0.98); }
    .btn-icon { font-size: 22px; }

    .btn-primary {
      background: var(--aloe-primary);
      color: white; border: none;
      box-shadow: 0 4px 12px rgba(139, 90, 43, 0.3);
    }
    .btn-primary:hover { background: #7A4E25; }
    .btn-primary:disabled { background: #CDBBAE; box-shadow: none; cursor: not-allowed; }

    /* --- Step 2: Big Emojis --- */
    .emoji-row {
      display: flex; justify-content: center; gap: 24px; margin: 40px 0;
    }
    .btn-emoji {
      width: 85px; height: 85px; border-radius: 50%; font-size: 42px;
      border: 3px solid var(--aloe-border); background: #FFFFFF; cursor: pointer;
      transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
      display: flex; align-items: center; justify-content: center;
    }
    .btn-emoji.selected {
      border-color: var(--aloe-accent); background: #F4F8ED;
      transform: scale(1.15); box-shadow: 0 8px 16px rgba(107, 142, 35, 0.2);
    }

    /* --- Step 3: Chips & Inputs --- */
    .chips-container {
        display: flex; flex-wrap: wrap; gap: 10px;
        justify-content: center; margin-bottom: 24px;
    }
    .chip {
      padding: 12px 18px; border-radius: 30px;
      border: 1px solid var(--aloe-border); background: #FAFAFA;
      color: var(--aloe-text-dark); font-size: 14px; font-weight: 500;
      cursor: pointer; transition: all 0.2s;
    }
    .chip.selected {
      background: var(--aloe-primary); color: white;
      border-color: var(--aloe-primary); box-shadow: 0 2px 8px rgba(139, 90, 43, 0.2);
    }

    textarea {
      width: 100%; min-height: 100px; resize: none;
      border-radius: 16px; border: 2px solid var(--aloe-border);
      padding: 14px; font-size: 15px; font-family: inherit;
      background: #FAFAFA; margin-bottom: 24px; color: var(--aloe-text-dark);
    }
    textarea:focus { outline: none; border-color: var(--aloe-primary); background: white; }

    /* --- Summary Box --- */
    .summary-box {
      background: #F4F8ED; border-radius: 20px; padding: 20px;
      text-align: left; margin-bottom: 24px;
    }
    .summary-item { margin-bottom: 8px; font-size: 15px; display: flex; }
    .summary-label { font-weight: 600; color: var(--aloe-primary); width: 90px; }

    /* --- Footer Links --- */
    .footer {
      margin-top: 24px; font-size: 15px; color: var(--aloe-text-light);
      display: flex; justify-content: center; gap: 20px;
    }
    .link {
      cursor: pointer; color: var(--aloe-primary); font-weight: 600;
      text-decoration: none; transition: opacity 0.2s;
    }
    .link:hover { opacity: 0.8; }

    /* --- Success --- */
    .big-check { font-size: 64px; color: var(--aloe-accent); margin-bottom: 16px; display: block; }
    .final-message { font-size: 14px; color: var(--aloe-text-light); margin-top: 30px; }

  </style>
</head>
<body>

  <div class="app">
    <div class="header-container">
        <span class="brand-title">üåø Hotel Feedback Kiosk</span>
        <div class="progress-bar">
            <div class="progress-dot active" id="dot1"></div>
            <div class="progress-dot" id="dot2"></div>
            <div class="progress-dot" id="dot3"></div>
            <div class="progress-dot" id="dot4"></div>
            <div class="progress-dot" id="dot5"></div>
        </div>
    </div>


    <div class="step active" id="step1">
      <h1>How do you want to share?</h1>
      <p class="subtitle">Choose your privacy level below.</p>

      <div class="buttons-stack">
        <button class="btn" onclick="selectMode('anonymous')">
          <span class="btn-icon">üï∂Ô∏è</span> Submit Anonymously
        </button>
        <button class="btn" onclick="selectMode('named')">
          <span class="btn-icon">üë§</span> Submit with Name
        </button>
      </div>
    </div>

    <div class="step" id="step2">
      <h1>How was your stay?</h1>
      <p class="subtitle">Tap an emoji to rate your experience.</p>

      <div class="emoji-row">
        <button class="btn-emoji" id="emoji1" onclick="selectRating(1)">üòü</button>
        <button class="btn-emoji" id="emoji2" onclick="selectRating(2)">üòê</button>
        <button class="btn-emoji" id="emoji3" onclick="selectRating(3)">üôÇ</button>
      </div>

      <button class="btn-primary btn" id="btnNextStep2" onclick="goToStep(3)" disabled style="width:100%">Next step</button>
      <div class="footer">
        <span class="link" onclick="goToStep(1)">Back</span>
      </div>
    </div>

    <div class="step" id="step3">
      <h1>Add a quick comment?</h1>
      <p class="subtitle">Optional: Tap a tag or write a note.</p>

      <div class="chips-container">
        <div class="chip" onclick="toggleChip(this)">üëå Perfect stay</div>
        <div class="chip" onclick="toggleChip(this)">üè® Staff was kind</div>
        <div class="chip" onclick="toggleChip(this)">üç≥ Great breakfast</div>
        <div class="chip" onclick="toggleChip(this)">‚ö†Ô∏è I had an issue</div>
      </div>
      <textarea id="commentInput" placeholder="Type your message here (optional)..."></textarea>

      <button class="btn-primary btn" onclick="prepareSummary()" style="width:100%">Review Feedback</button>
      <div class="footer">
         <span class="link" onclick="prepareSummary()">Skip & Review</span>
      </div>
    </div>

    <div class="step" id="step4">
      <h1>Is this correct?</h1>
      <p class="subtitle">Please review before sending.</p>

      <div class="summary-box">
        <div class="summary-item"><span class="summary-label">Privacy:</span><span id="sumMode"></span></div>
        <div class="summary-item"><span class="summary-label">Rating:</span><span id="sumRating"></span></div>
        <div class="summary-item"><span class="summary-label">Note:</span><span id="sumComment"></span></div>
      </div>

      <button class="btn-primary btn" onclick="submitFeedback()" style="width:100%">üöÄ Send Feedback</button>
      <div class="footer">
        <span class="link" onclick="goToStep(3)">Edit details</span>
      </div>
    </div>

    <div class="step" id="step5">
      <div style="padding: 40px 0;">
        <span class="big-check">‚úÖ</span>
        <h1>Thank You!</h1>
        <p class="subtitle">Your feedback helps us improve.</p>
        <p class="final-message">Closing in a few seconds...</p>
      </div>
    </div>

  </div>

  <script>
    // Dati simulati
    let feedbackData = { anonymous: true, rating: null, comment: "", tags: [] };
    let currentStep = 1;
    const totalSteps = 5;

    // Function to update the progress bar dots
    function updateProgressBar(stepNum) {
        for (let i = 1; i <= totalSteps; i++) {
            const dot = document.getElementById('dot' + i);
            if (i === stepNum) {
                dot.classList.add('active');
                dot.classList.remove('completed');
            } else if (i < stepNum) {
                dot.classList.add('completed');
                dot.classList.remove('active');
            } else {
                dot.classList.remove('active', 'completed');
            }
        }
    }

    function goToStep(stepNum) {
      currentStep = stepNum;
      // Hide all steps
      document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
      // Show current step
      document.getElementById('step' + stepNum).classList.add('active');
      // Update progress bar
      updateProgressBar(stepNum);
    }

    // Step 1 Fn
    function selectMode(mode) {
      feedbackData.anonymous = (mode === 'anonymous');
      goToStep(2);
    }

    // Step 2 Fn
    function selectRating(val) {
      feedbackData.rating = val;
      document.querySelectorAll('.btn-emoji').forEach(b => b.classList.remove('selected'));
      document.getElementById('emoji' + val).classList.add('selected');
      document.getElementById('btnNextStep2').disabled = false;
      setTimeout(() => goToStep(3), 300); // Auto-advance
    }

    // Step 3 Fn
    function toggleChip(chip) {
        chip.classList.toggle('selected');
    }

    // Step 4 Fn
    function prepareSummary() {
      const text = document.getElementById('commentInput').value.trim();
      const selectedTags = Array.from(document.querySelectorAll('.chip.selected')).map(c => c.textContent);
      feedbackData.comment = selectedTags.join(", ") + (text ? (selectedTags.length ? "; " : "") + text : "");

      document.getElementById('sumMode').textContent = feedbackData.anonymous ? 'Anonymous' : 'Named Guest';
      const ratings = {1: 'üòü Not Good', 2: 'üòê Okay', 3: 'üôÇ Great'};
      document.getElementById('sumRating').textContent = ratings[feedbackData.rating];
      document.getElementById('sumComment').textContent = feedbackData.comment || '(None)';
      goToStep(4);
    }

    // Step 5 Fn
    function submitFeedback() {
      console.log("Sending data to ALOE API...", feedbackData);
      goToStep(5);
      // Simulate kiosk reset after 5 seconds
      setTimeout(() => {
        // Reset app state for next user (in a real app, you'd reset variables too)
        window.location.reload();
      }, 5000);
    }

    // Initialize progress bar on load
    updateProgressBar(currentStep);
  </script>
</body>
</html>
